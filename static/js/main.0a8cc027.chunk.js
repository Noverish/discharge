(this.webpackJsonpdischarge=this.webpackJsonpdischarge||[]).push([[0],{15:function(e,a,t){e.exports=t(38)},37:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"dateToString",(function(){return b})),t.d(n,"addMonth",(function(){return N})),t.d(n,"addDay",(function(){return D})),t.d(n,"addSecond",(function(){return k})),t.d(n,"monthDiff",(function(){return w})),t.d(n,"dayDiff",(function(){return y})),t.d(n,"secondDiff",(function(){return S})),t.d(n,"setDay1AndMidnight",(function(){return T})),t.d(n,"secondsToString",(function(){return M}));var r,c=t(0),s=t.n(c),l=t(13),i=t.n(l),o=t(3),u=t(1),d=t.n(u),m=t(14),f=t.n(m),g=new Date("2018-04-01"),p=new Date("2018-11-01"),h=new Date("2019-06-01"),v=function(e){var a=e.className,t=d()("navbar navbar-default navbar-fixed-top",a);return s.a.createElement("nav",{className:t},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"navbar-header"},s.a.createElement("a",{href:"/",className:"navbar-brand"},"\uc815\uc2e0\uacfc \uc2dc\uac04\uc758 \ubc29"),s.a.createElement("button",{className:"navbar-toggle",type:"button","data-toggle":"collapse","data-target":"#navbar-main"},s.a.createElement("span",{className:"icon-bar"}),s.a.createElement("span",{className:"icon-bar"}),s.a.createElement("span",{className:"icon-bar"}))),s.a.createElement("div",{className:"navbar-collapse collapse",id:"navbar-main"},s.a.createElement("ul",{className:"nav navbar-nav navbar-right"},s.a.createElement("li",null,s.a.createElement("a",{href:"http://github/Noverish/discharge",target:"_blank",rel:"noopener noreferrer",className:"btn btn-link"},"Github"))))))};function E(e){var a=new Date(e);return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function b(e){var a=e.getFullYear(),t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return"".concat(a,"/").concat(t,"/").concat(n)}function N(e,a){return e.setMonth(e.getMonth()+a),e}function D(e,a){return e.setDate(e.getDate()+a),e}function k(e,a){return e.setSeconds(e.getSeconds()+a),e}function w(e,a){return 12*(e.getFullYear()-a.getFullYear())+e.getMonth()-a.getMonth()}function y(e,a){var t=E(a),n=E(e);return Math.ceil((n.getTime()-t.getTime())/864e5)}function S(e,a){return Math.floor((e.getTime()-a.getTime())/1e3)}function T(e){return e.setDate(1),e.setUTCHours(9),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),e}function M(e){var a=(e%60).toString().padStart(2,"0"),t=Math.floor(e/60),n=(t%60).toString().padStart(2,"0"),r=Math.floor(t/60),c=(r%24).toString().padStart(2,"0"),s=Math.floor(r/24);return"".concat(s,"\uc77c ").concat(c,"\uc2dc\uac04 ").concat(n,"\ubd84 ").concat(a,"\ucd08")}function j(e,a){switch(e){case r.private:return 3+(a.getTime()<h.getTime()?1:0);case r.privateFirst:return 6+(a.getTime()<p.getTime()?1:0);case r.corporal:return 6+(a.getTime()<g.getTime()?1:0);default:throw new Error("Unexpected value")}}function x(e,a){var t=function(e){var a=new Date(e.join),t=new Date(e.transfer),n=new Date(e.discharge),c=[0,0,0];e.penalty.forEach((function(e){c[e]+=1}));var s=c[0],l=c[1],i=c[2],o=j(r.private,a)+s,u=j(r.privateFirst,a)+l,d=j(r.corporal,a)+i,m=N(new Date(a),o),f=N(new Date(m),u),g=N(new Date(f),d);return m.setDate(1),f.setDate(1),g.setDate(1),{join:a,transfer:t,privateFirst:m,corporal:f,sergeant:g,discharge:n}}(e),n=function(e,a){var t=e.join,n=e.transfer,c=e.privateFirst,s=e.corporal,l=e.sergeant,i=e.discharge;if(a<t)return{rank:r.human};if(t<=a&&a<n)return{rank:r.trainee};if(n<=a&&a<c)return{grade:w(a,t)+1,rank:r.private};if(c<=a&&a<s){var o=w(s,c),u=w(a,c)+1;return{grade:u,broken:u>Math.ceil(o/2),rank:r.privateFirst}}if(s<=a&&a<l){var d=w(l,s),m=w(a,s)+1;return{grade:m,broken:m>Math.ceil(d/2),rank:r.corporal}}if(l<=a&&a<i){var f=w(a,l)+1,g=y(i,l);return{grade:f,broken:y(a,l)>Math.ceil(g/2),rank:r.sergeant}}if(i<=a)return{rank:r.fulfilled};throw new Error("Never happend")}(t,a),c=n.rank,s=n.grade,l=n.broken,i=function(e){switch(e){case r.human:return"\ubbfc\uac04\uc778";case r.trainee:return"\ud6c8\ub828\ubcd1";case r.private:return"\uc774\ubcd1";case r.privateFirst:return"\uc77c\ubcd1";case r.corporal:return"\uc0c1\ubcd1";case r.sergeant:return"\ubcd1\uc7a5";case r.fulfilled:return"\uc608\ube44\uc5ed";default:throw new Error("Unexpected value")}}(c)+(s?" ".concat(s,"\ud638\ubd09"):""),o=t.join,u=t.transfer,d=t.discharge,m=y(d,o),f=Math.min(y(a,o),m),g=Math.max(y(d,a),0),p=S(d,o),h=Math.min(S(a,o),p),v=Math.max(S(d,a),0),E=(a.getTime()-o.getTime())/(d.getTime()-o.getTime());return{join:o,transfer:u,discharge:d,rankString:i,rank:c,grade:s,broken:l,daysTotal:m,daysPast:f,daysLeft:g,secondsTotal:p,secondsPast:h,secondsLeft:v,percent:(100*Math.min(1,Math.max(E,0))).toFixed(2),name:e.name}}!function(e){e.human="human",e.trainee="trainee",e.private="private",e.privateFirst="private-first",e.corporal="corporal",e.sergeant="sergeant",e.fulfilled="fulfilled"}(r||(r={}));var F,O=n.dateToString,C=function(e){var a=e.person,t=a.name,n=a.join,r=a.transfer,c=a.discharge,l=a.rank,i=a.rankString,o=a.broken,u=a.daysLeft,m=a.percent,f=u<31,g="".concat(O(n)," \uc785\ub300 - ").concat(O(r)," \uc804\uc785 - ").concat(O(c)," \uc804\uc5ed");return s.a.createElement("div",{id:"info-pane",className:"panel"},s.a.createElement("div",{className:d()("panel-heading","rank-".concat(l),{broken:o})}),s.a.createElement("div",{className:"panel-body"},s.a.createElement("div",{className:"name-info"},s.a.createElement("strong",{className:"name"},t),s.a.createElement("span",{className:"rank"},i),s.a.createElement("div",null,"\ub2f9\uc2e0\uc758 \uc804\uc5ed\uc740"," ",s.a.createElement("span",{className:d()("bold",f?"dischargable":"not-dischargable")},f?"\uac00\ub2a5":"\ubd88\uac00"),"\ud569\ub2c8\ub2e4.")),s.a.createElement("div",{className:"date-info"},s.a.createElement("div",{className:"dday"},s.a.createElement("div",{className:d()("hex","rank-".concat(l),{broken:o})},"D-0x",s.a.createElement("span",{className:"bold"},u.toString(16).toUpperCase(),s.a.createElement("sub",null,"(16)"))),s.a.createElement("span",{className:"percentage"},m,"%")),s.a.createElement("div",null,g))))},U=n.dateToString,L=n.secondsToString,P=function(e){var a=e.index,t=e.person,n=e.isMe,r=t.rank,c=t.rankString,l=t.broken,i=t.percent,o=t.daysPast,u=t.daysTotal,m=t.secondsPast,f=t.secondsLeft,g=!["fulfilled","human"].includes(r.toString()),p=d()("progress",{active:g,"progress-striped":g}),h=d()("progress-bar","rank-".concat(r),{broken:l}),v=parseInt(i)>20,E=d()("text",v?"inside":"outside"),b="".concat(o,"/").concat(u," (").concat(i,"%)"),N=o>0?s.a.createElement("span",{className:E},b):null;return s.a.createElement("tr",{className:d()({me:n})},s.a.createElement("td",null,a+1),s.a.createElement("td",null,t.name),s.a.createElement("td",null,c),s.a.createElement("td",null,U(t.join)),s.a.createElement("td",null,U(t.transfer)),s.a.createElement("td",null,U(t.discharge)),s.a.createElement("td",null,L(m)),s.a.createElement("td",null,L(f)),s.a.createElement("td",null,s.a.createElement("div",{className:p},s.a.createElement("div",{className:h,style:{width:"".concat(i,"%")}},v&&N),v||N)))},I=function(e){var a=e.me,t=e.persons.map((function(e,t){var n=e.name===a.name&&e.join===a.join;return s.a.createElement(P,{index:t,person:e,isMe:n,key:e.name+e.join})}));return s.a.createElement("div",{id:"people-table"},s.a.createElement("table",{className:"table table-striped table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"no"},"#"),s.a.createElement("th",{className:"name"},"\uc774\ub984"),s.a.createElement("th",{className:"rank"},"\uacc4\uae09"),s.a.createElement("th",{className:"date-start"},"\uc785\ub300\uc77c"),s.a.createElement("th",{className:"date-transfer"},"\uc804\uc785\uc77c"),s.a.createElement("th",{className:"date-end"},"\uc804\uc5ed\uc77c"),s.a.createElement("th",{className:"days-past"},"\uc9c0\ub09c\uc2dc\uac04"),s.a.createElement("th",{className:"days-left"},"\ub0a8\uc740\uc2dc\uac04"),s.a.createElement("th",{className:"progressbar"}," "))),s.a.createElement("tbody",null,t)))};!function(e){e.showing="showing",e.closing="closing",e.closed="closed"}(F||(F={}));var Y=function(e){var a=e.person,t=e.status,n=e.onTransitionEnd,r=a.daysTotal,c=a.daysLeft,l=a.daysPast,i=a.broken,o=a.rank,u=(r-1/r*Math.pow(l,2))/8,m=d()("title","rank-".concat(o),{broken:i}),f=d()("date","rank-text-".concat(o),{broken:i}),g={textShadow:"white 0 0 ".concat(u,"px")};return s.a.createElement("div",{id:"welcome-layout",className:t,onTransitionEnd:n},s.a.createElement("div",{id:"welcome"},s.a.createElement("div",{className:m,style:g},s.a.createElement("strong",null,"\uc804\uc5ed")),s.a.createElement("div",{className:f},"D-",s.a.createElement("strong",null,c))))};t(37);function H(){var e=Object(c.useState)(F.showing),a=Object(o.a)(e,2),t=a[0],r=a[1],l=Object(c.useState)([]),i=Object(o.a)(l,2),u=i[0],m=i[1],g=Object(c.useState)(new Date),p=Object(o.a)(g,2),h=p[0],E=p[1];Object(c.useEffect)((function(){f()({url:"https://home.hyunsub.kim:4284"}).then((function(e){m(e.data)})),setInterval((function(){return E((function(e){return n.addSecond(new Date(e),1)}))}),1e3),setTimeout((function(){return r(F.closing)}),1800)}),[]);var b=Object(c.useCallback)((function(e){var a=parseInt(e.target.value),t=n.addDay(new Date,a);E(t)}),[]),N=u.filter((function(e){return n.dayDiff(h,new Date(e.discharge))<7})).filter((function(e){return new Date(e.transfer)<h})).map((function(e){return x(e,h)}));if(0===N.length)return s.a.createElement("div",null);var D=N[0],k=n.dayDiff(new Date("2016-11-11"),new Date),w=u.length>0?n.dayDiff(new Date(u[u.length-1].discharge),new Date):n.dayDiff(new Date(Date.now()+1),new Date),y=n.dayDiff(h,new Date);return s.a.createElement(s.a.Fragment,null,s.a.createElement(Y,{person:D,status:t,onTransitionEnd:function(){return r(F.closed)}}),s.a.createElement(v,{className:d()({blur:t!==F.closed})}),s.a.createElement("div",{className:d()("container-fluid",{blur:t!==F.closed}),style:{marginTop:"60px"}},s.a.createElement(C,{person:D}),s.a.createElement("h1",null,h.toLocaleString()),s.a.createElement("input",{type:"range",min:k,max:w,value:y,onChange:b}),s.a.createElement(I,{me:D,persons:N})))}i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(H,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.0a8cc027.chunk.js.map